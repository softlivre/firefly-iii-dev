"use strict";(globalThis["webpackChunkfirefly_iii"]=globalThis["webpackChunkfirefly_iii"]||[]).push([[6745],{6745:(t,a,e)=>{e.r(a),e.d(a,{default:()=>_});var i=e(9835),s=e(6970);function n(t,a,e,n,r,g){const o=(0,i.up)("router-link"),l=(0,i.up)("q-badge"),u=(0,i.up)("q-card-section"),d=(0,i.up)("q-card"),p=(0,i.up)("q-fab-action"),c=(0,i.up)("q-fab"),h=(0,i.up)("q-page-sticky"),f=(0,i.up)("q-page");return(0,i.wg)(),(0,i.j4)(f,null,{default:(0,i.w5)((()=>[(0,i.Wm)(d,null,{default:(0,i.w5)((()=>[(0,i.Wm)(u,null,{default:(0,i.w5)((()=>[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(r.tags,(t=>((0,i.wg)(),(0,i.iD)("span",null,[(0,i.Wm)(l,{class:"q-ma-xs",color:"blue",outline:""},{default:(0,i.w5)((()=>[(0,i.Wm)(o,{to:{name:"tags.show",params:{id:t.id}}},{default:(0,i.w5)((()=>[(0,i.Uk)((0,s.zw)(t.attributes.tag),1)])),_:2},1032,["to"])])),_:2},1024)])))),256))])),_:1})])),_:1}),(0,i.Wm)(h,{offset:[18,18],position:"bottom-right"},{default:(0,i.w5)((()=>[(0,i.Wm)(c,{color:"green",direction:"up",icon:"fas fa-chevron-up",label:"Actions","label-position":"left",square:"","vertical-actions-align":"right"},{default:(0,i.w5)((()=>[(0,i.Wm)(p,{to:{name:"tags.create"},color:"primary",icon:"fas fa-exchange-alt",label:"New tag",square:""},null,8,["to"])])),_:1})])),_:1})])),_:1})}var r=e(1569);class g{list(t,a){let e="/api/v1/tags";return r.api.get(e,{params:{page:t,cache:a}})}}const o={name:"Index",watch:{$route(t){"tags.index"===t.name&&(this.page=1,this.updateBreadcrumbs(),this.triggerUpdate())}},data(){return{tags:[],loading:!1}},computed:{},created(){},mounted(){null!==this.store.getRange.start&&null!==this.store.getRange.end||this.store.$onAction((({name:t,$store:a,args:e,after:i,onError:s})=>{i((a=>{"setRange"===t&&(this.range=a,this.triggerUpdate())}))})),null!==this.store.getRange.start&&null!==this.store.getRange.end&&(this.range={start:this.store.getRange.start,end:this.store.getRange.end},this.triggerUpdate())},methods:{updateBreadcrumbs:function(){this.$route.meta.pageTitle="firefly.tags",this.$route.meta.breadcrumbs=[{title:"tags"}]},onRequest:function(t){this.page=t.pagination.page,this.triggerUpdate()},triggerUpdate:function(){this.loading||(this.loading=!0,this.getPage(1))},getPage:function(t){const a=new g;this.rows=[],a.list(t,this.getCacheKey).then((a=>{for(let t in a.data.data)if(a.data.data.hasOwnProperty(t)){let e=a.data.data[t];this.tags.push(e)}t<parseInt(a.data.meta.pagination.total_pages)&&this.getPage(t+1),t===parseInt(a.data.meta.pagination.total_pages)&&(this.loading=!1)}))}}};var l=e(1639),u=e(9885),d=e(4458),p=e(3190),c=e(990),h=e(3388),f=e(9361),m=e(935),b=e(9984),w=e.n(b);const q=(0,l.Z)(o,[["render",n]]),_=q;w()(o,"components",{QPage:u.Z,QCard:d.Z,QCardSection:p.Z,QBadge:c.Z,QPageSticky:h.Z,QFab:f.Z,QFabAction:m.Z})}}]);